<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Jeopardy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117;
            color: #e2e8f0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            text-align: center;
        }

        .game-container {
            width: 100%;
            max-width: 1200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .game-title {
            font-size: 2.5rem;
            font-weight: bold;
            color: #a3e635;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            margin-bottom: 20px;
        }

        .scoreboard-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }

        .player-score {
            background-color: #2d3748;
            border: 2px solid #a3e635;
            border-radius: 8px;
            padding: 10px 20px;
            text-align: center;
            min-width: 120px;
        }

        .player-name {
            font-weight: bold;
            font-size: 1.25rem;
        }

        .score-value {
            font-size: 2rem;
            font-weight: bold;
            color: #a3e635;
        }
        
        .board-wrapper {
            width: 100%;
            position: relative;
        }

        .board {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            width: 100%;
        }

        .category-header {
            background-color: #2d3748;
            border: 2px solid #a3e635;
            border-radius: 8px;
            padding: 1rem;
            font-weight: bold;
            font-size: 1.25rem;
            display: flex;
            justify-content: center;
            align-items: center;
            text-transform: uppercase;
            text-align: center;
            min-height: 80px;
        }

        .card {
            background-color: #1a202c;
            border: 2px solid #a3e635;
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            min-height: 100px;
        }

        .card:hover {
            transform: translateY(-5px);
            background-color: #2c3546;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        .card.answered {
            background-color: #4a5568;
            color: #718096;
            cursor: not-allowed;
            pointer-events: none;
            text-decoration: line-through;
        }
        
        .round-button {
            background-color: #a3e635;
            color: #1a202c;
            font-weight: bold;
            padding: 12px 24px;
            border-radius: 9999px;
            cursor: pointer;
            transition: background-color 0.2s ease;
            margin-top: 20px;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: #1a202c;
            border: 4px solid #a3e635;
            border-radius: 12px;
            padding: 40px;
            max-width: 80%;
            text-align: center;
            position: relative;
        }
        
        .modal-content.no-close {
            pointer-events: auto;
        }

        .question-text {
            font-size: 2.25rem;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .answer-text {
            font-size: 2rem;
            font-style: italic;
            color: #a3e635;
        }

        .modal-button {
            background-color: #a3e635;
            color: #1a202c;
            font-weight: bold;
            padding: 12px 24px;
            border-radius: 9999px;
            cursor: pointer;
            transition: background-color 0.2s ease;
            margin-top: 20px;
        }

        .modal-button:hover {
            background-color: #86efac;
        }

        .score-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .score-button {
            background-color: #a3e635;
            color: #1a202c;
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .score-button:hover {
            background-color: #86efac;
        }

        .team-label {
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        @media (max-width: 768px) {
            .game-title {
                font-size: 2rem;
            }
            .board {
                grid-template-columns: repeat(3, 1fr);
            }
            .category-header {
                font-size: 1rem;
                min-height: 60px;
            }
            .card {
                font-size: 1.5rem;
                min-height: 80px;
            }
            .question-text {
                font-size: 1.5rem;
            }
            .answer-text {
                font-size: 1.25rem;
            }
        }
    </style>
</head>
<body>

<div class="game-container">
    <h1 class="game-title" id="game-title">The Dankest Jeopardy</h1>
    <div class="scoreboard-container" id="scoreboard-container"></div>
    <div class="board-wrapper">
        <div class="board" id="game-board"></div>
        <button id="next-round-button" class="round-button hidden">Start Double Jeopardy</button>
    </div>
</div>

<div class="modal-overlay" id="modal-overlay">
    <div class="modal-content" id="modal-content">
        <p class="question-text" id="modal-question"></p>
        <p class="answer-text hidden" id="modal-answer"></p>
        <button class="modal-button" id="reveal-button">Reveal Answer</button>
        <div class="score-buttons hidden" id="score-buttons">
            <span class="team-label">Correct answer? Award points to:</span>
            <div id="correct-buttons-container" class="score-buttons"></div>
            <span class="team-label mt-4">Incorrect answer? Deduct points from:</span>
            <div id="incorrect-buttons-container" class="score-buttons"></div>
            <button class="modal-button mt-4" id="pass-button">No one got it / Pass</button>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Data for the Single Jeopardy round
        const jeopardyData = {
            title: "Jeopardy",
            categories: [
                "California Culture",
                "Michigan Made",
                "Colorado Facts",
                "Ohio Origins",
                "Cannabis Lingo"
            ],
            questions: [
                [
                    { q: "What famous California valley is responsible for producing over 80% of the world's almonds?", a: "The Central Valley" },
                    { q: "This iconic prison island in San Francisco Bay was a federal penitentiary until 1963.", a: "Alcatraz Island" },
                    { q: "The oldest active sailing ship in the world, the Star of India, is housed in this city.", a: "San Diego" },
                    { q: "This city is home to the world's largest geothermal field, known as 'The Geysers.'", a: "Sonoma County" },
                    { q: "This California trail, which many Gold Rush prospectors took, crossed the Sierra Nevada mountains.", a: "The California Trail" }
                ],
                [
                    { q: "This Detroit-based company was founded by Berry Gordy Jr. in 1959.", a: "Motown Records" },
                    { q: "The world's largest pickle and vinegar processing plant is located in this Michigan city.", a: "Holland" },
                    { q: "The first tri-colored traffic signal was invented in this Michigan city in 1920.", a: "Detroit" },
                    { q: "This Michigan city is home to the world's largest weathervane.", a: "Montague" },
                    { q: "In 1847, the legislature passed a law to locate the state capital in this city.", a: "Lansing" }
                ],
                [
                    { q: "This city is the highest incorporated city in the U.S.", a: "Leadville" },
                    { q: "Colorado is known as the 'Centennial State' because it was admitted to the Union in this year.", a: "1876" },
                    { q: "This iconic amphitheater near Denver is the only one of its kind in the world.", a: "Red Rocks" },
                    { q: "The highest paved road in North America leads to the summit of this mountain near Idaho Springs.", a: "Mount Evans" },
                    { q: "The Royal Gorge Bridge, the highest suspension bridge in the world, spans the Arkansas River near this city.", a: "Canon City" }
                ],
                [
                    { q: "This city is home to the world's largest basket.", a: "Newark" },
                    { q: "This fast-food chain, known for its square burgers, was founded by Dave Thomas in Columbus in 1969.", a: "Wendy's" },
                    { q: "The first professional baseball team, the Cincinnati Red Stockings, was formed in this Ohio city.", a: "Cincinnati" },
                    { q: "This famous amusement park on Lake Erie is often called the 'roller coaster capital of the world.'", a: "Cedar Point" },
                    { q: "This city is home to the National US Air Force Museum.", a: "Dayton" }
                ],
                [
                    { q: "A cannabis concentrate known for its glass-like consistency.", a: "Shatter" },
                    { q: "The term for a cannabis cigarette rolled with a hollowed-out cigar wrap.", a: "Blunt" },
                    { q: "This unit of measurement, approximately 3.5 grams, is often referred to as a half-quarter.", a: "An Eighth" },
                    { q: "This slang term for a cannabis dealer is often used online.", a: "Plug" },
                    { q: "This term, a common Mexican slang word for cannabis, originally comes from the Spanish for 'herb.'", a: "Mota" }
                ]
            ]
        };

        // Data for the Double Jeopardy round
        const doubleJeopardyData = {
            title: "Double Jeopardy",
            categories: [
                "Cannabis S.T.E.M.",
                "Pop Culture & States",
                "Legal History",
                "Geographic Wonders",
                "Business & Economics"
            ],
            questions: [
                [
                    { q: "The primary psychoactive compound in cannabis, responsible for the 'high.'", a: "Tetrahydrocannabinol (THC)" },
                    { q: "This non-psychoactive cannabis compound is often used for therapeutic purposes.", a: "Cannabidiol (CBD)" },
                    { q: "The sticky, crystalline structures on the surface of cannabis flowers that contain cannabinoids and terpenes.", a: "Trichomes" },
                    { q: "The process of heating cannabis to a specific temperature to activate its compounds.", a: "Decarboxylation" },
                    { q: "What are the aromatic compounds in cannabis that give each strain its unique smell and flavor?", a: "Terpenes" }
                ],
                [
                    { q: "The animated sitcom 'Family Guy' is famously set in this fictional town in Rhode Island.", a: "Quahog" },
                    { q: "The movie 'Sleeper,' directed by Woody Allen, was set in this state, home to the Sleeper House atop Genessee Mountain.", a: "Colorado" },
                    { q: "The first 'American Idol' winner, Kelly Clarkson, is from this state.", a: "Texas" },
                    { q: "The TV series 'Stranger Things' is set in the fictional town of Hawkins, located in this U.S. state.", a: "Indiana" },
                    { q: "The classic TV show 'The Mary Tyler Moore Show' was set in this Midwestern city.", a: "Minneapolis" }
                ],
                [
                    { q: "Along with Washington, this state was one of the first two to legalize recreational cannabis in 2012.", a: "Colorado" },
                    { q: "The Marihuana Tax Act, which effectively criminalized cannabis at the federal level, was passed in this year.", a: "1937" },
                    { q: "This state became the first to legalize medical cannabis with the approval of Proposition 215.", a: "California" },
                    { q: "In 2018, this state's voters passed Proposal 1 to legalize recreational use, making it the 10th state to do so.", a: "Michigan" },
                    { q: "Ohio voters passed Issue 2 in this year to legalize recreational cannabis.", a: "2023" }
                ],
                [
                    { q: "Known as the 'Mother of Presidents,' this state is the birthplace of eight U.S. presidents.", a: "Ohio" },
                    { q: "The U.S. state that is made up of two peninsulas.", a: "Michigan" },
                    { q: "The highest and lowest points in the contiguous United States, Mt. Whitney and Badwater Basin, are in this one state.", a: "California" },
                    { q: "This state contains 75% of the land area above 10,000 feet in the U.S.", a: "Colorado" },
                    { q: "The Great Serpent Mound, the largest serpent effigy in the world, is located in this state.", a: "Ohio" }
                ],
                [
                    { q: "This city is the only place in the world with a floating post office.", a: "Detroit" },
                    { q: "Terpenes are aromatic compounds found in plants. Which common citrus fruit has a terpene that is also found in cannabis, giving it a similar scent?", a: "Lemon" },
                    { q: "What popular type of concentrate is made by a process that uses both heat and pressure, but no chemical solvents?", a: "Rosin" },
                    { q: "California's top agricultural export is this nut, and it produces 82% of the world's supply.", a: "Almonds" },
                    { q: "The world's largest indoor rodeo and stock show is hosted annually in this city.", a: "Denver" }
                ]
            ]
        };

        // Player data
        const players = [
            { name: "Alec Kent", score: 0 },
            { name: "Charles Hartman", score: 0 },
            { name: "Christian Meyer", score: 0 },
            { name: "Joaquin Duran", score: 0 },
            { name: "Katelyn Johnson", score: 0 },
            { name: "Liz Williston", score: 0 },
            { name: "Matt Comerford", score: 0 },
            { name: "Phillip Germono", score: 0 },
            { name: "SB King", score: 0 }
        ];

        // --- DOM Elements ---
        const gameTitle = document.getElementById('game-title');
        const gameBoard = document.getElementById('game-board');
        const scoreboardContainer = document.getElementById('scoreboard-container');
        const modalOverlay = document.getElementById('modal-overlay');
        const modalContent = document.getElementById('modal-content');
        const modalQuestion = document.getElementById('modal-question');
        const modalAnswer = document.getElementById('modal-answer');
        const revealButton = document.getElementById('reveal-button');
        const scoreButtons = document.getElementById('score-buttons');
        const correctButtonsContainer = document.getElementById('correct-buttons-container');
        const incorrectButtonsContainer = document.getElementById('incorrect-buttons-container');
        const passButton = document.getElementById('pass-button');
        const nextRoundButton = document.getElementById('next-round-button');

        let currentCard = null;
        let currentPoints = 0;
        let answeredCards = 0;
        let currentRoundData = jeopardyData;

        // --- Game Logic Functions ---

        /**
         * Renders the main game board with categories and question cards for the current round.
         */
        function renderBoard() {
            gameBoard.innerHTML = ''; // Clear the board for the new round
            gameTitle.textContent = `${currentRoundData.title}`;

            // Add category headers first
            currentRoundData.categories.forEach(category => {
                const header = document.createElement('div');
                header.className = 'category-header';
                header.textContent = category;
                gameBoard.appendChild(header);
            });

            // Add the question cards for each category
            const points = currentRoundData === jeopardyData ? [200, 400, 600, 800, 1000] : [400, 800, 1200, 1600, 2000];
            for (let i = 0; i < points.length; i++) {
                currentRoundData.categories.forEach((category, catIndex) => {
                    const point = points[i];
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.textContent = `$${point}`;
                    card.dataset.catIndex = catIndex;
                    card.dataset.qIndex = i; // Use the outer loop index for questions
                    card.addEventListener('click', () => showQuestion(card, catIndex, i, point));
                    gameBoard.appendChild(card);
                });
            }
        }

        /**
         * Renders the scoreboard for all individual players.
         */
        function renderScoreboard() {
            scoreboardContainer.innerHTML = '';
            players.forEach((player, index) => {
                const playerDiv = document.createElement('div');
                playerDiv.className = 'player-score';
                playerDiv.innerHTML = `
                    <div class="player-name">${player.name}</div>
                    <div class="score-value" id="score-${index}">${player.score}</div>
                `;
                scoreboardContainer.appendChild(playerDiv);
            });
        }

        /**
         * Updates a specific player's score on the scoreboard.
         * @param {number} playerIndex The index of the player to update.
         */
        function updateScore(playerIndex) {
            const scoreElement = document.getElementById(`score-${playerIndex}`);
            if (scoreElement) {
                scoreElement.textContent = players[playerIndex].score;
            }
        }

        /**
         * Displays the question modal.
         * @param {HTMLElement} card The clicked card element.
         * @param {number} catIndex The category index.
         * @param {number} qIndex The question index.
         * @param {number} points The point value of the question.
         */
        function showQuestion(card, catIndex, qIndex, points) {
            currentCard = card;
            currentPoints = points;
            const question = currentRoundData.questions[catIndex][qIndex].q;
            const answer = currentRoundData.questions[catIndex][qIndex].a;

            modalQuestion.textContent = question;
            modalAnswer.textContent = answer;
            
            // Reset modal state
            modalAnswer.classList.add('hidden');
            scoreButtons.classList.add('hidden');
            revealButton.classList.remove('hidden');

            modalOverlay.classList.add('active');
            
            // Increment the counter for answered cards
            answeredCards++;
            checkRoundCompletion();
        }
        
        /**
         * Checks if all cards in the current round have been answered.
         */
        function checkRoundCompletion() {
            const totalCards = currentRoundData.categories.length * 5;
            if (answeredCards >= totalCards) {
                if (currentRoundData === jeopardyData) {
                    nextRoundButton.textContent = "Start Double Jeopardy";
                    nextRoundButton.classList.remove('hidden');
                } else {
                    // All rounds are complete
                    nextRoundButton.textContent = "Game Over!";
                    nextRoundButton.disabled = true;
                }
            }
        }

        /**
         * Closes the question modal and resets its state.
         */
        function hideModal() {
            modalOverlay.classList.remove('active');
            // Mark the card as answered so it can't be clicked again
            if (currentCard) {
                currentCard.classList.add('answered');
                currentCard.textContent = '';
                currentCard = null;
            }
        }

        // --- Event Listeners ---

        // Listener to prevent modal from closing when clicking on the content itself
        modalContent.addEventListener('click', (e) => {
            e.stopPropagation();
        });

        // Listener to close the modal when clicking on the overlay (outside the content)
        modalOverlay.addEventListener('click', hideModal);

        // Listener for the "Reveal Answer" button
        revealButton.addEventListener('click', () => {
            modalAnswer.classList.remove('hidden');
            scoreButtons.classList.remove('hidden');
            revealButton.classList.add('hidden');
        });

        // Event listener for the "No one got it / Pass" button
        passButton.addEventListener('click', hideModal);
        
        // Event listener for the "Next Round" button
        nextRoundButton.addEventListener('click', () => {
            currentRoundData = doubleJeopardyData;
            answeredCards = 0; // Reset for the new round
            renderBoard();
            nextRoundButton.classList.add('hidden');
        });

        // --- Dynamic Button Generation ---
        
        /**
         * Creates score buttons for all players and adds them to the modal.
         */
        function createScoreButtons() {
            correctButtonsContainer.innerHTML = '';
            incorrectButtonsContainer.innerHTML = '';

            players.forEach((player, index) => {
                const correctButton = document.createElement('button');
                correctButton.className = 'score-button';
                correctButton.textContent = player.name;
                correctButton.addEventListener('click', () => {
                    players[index].score += currentPoints;
                    updateScore(index);
                    hideModal();
                });
                correctButtonsContainer.appendChild(correctButton);

                const incorrectButton = document.createElement('button');
                incorrectButton.className = 'score-button';
                incorrectButton.textContent = player.name;
                incorrectButton.addEventListener('click', () => {
                    players[index].score -= currentPoints;
                    updateScore(index);
                    hideModal();
                });
                incorrectButtonsContainer.appendChild(incorrectButton);
            });
        }

        // --- Initial Setup ---
        renderScoreboard();
        renderBoard();
        createScoreButtons();
    });
</script>

</body>
</html>

